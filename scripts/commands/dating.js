module.exports.info = {
	name: "dating",
	version: "1.0.1",
	permissions: 1,
	author: {
		name: "Henry",
		facebook: "https://facebook.com/s2.henry"
	},
	description: {
        long: "B√°o danh h√†ng ng√†y ƒë·ªÉ ki·∫øm ti·ªÅn ch∆°i MiniGame...",
        short: "B√°o danh h√†ng ng√†y"
    },
	group: "D√†nh Cho Th√†nh Vi√™n",
	guide: [
		'',
	],
	countdown: 5//1800000
};

function getMsg() {
  //B·∫°n c√≥ th·ªÉ custom tin nh·∫Øn cu·ªëi c√πng c·ªßa Bot ·ªü ƒë√¢y.
  //Tin nh·∫Øn n√†y ƒë∆∞·ª£c g·ª≠i khi c·∫£ 2 ng∆∞·ªùi ƒë·ªÅu ƒë√£ ƒë·ªìng √Ω.
    return `M·ªçi ng∆∞·ªùi c√πng t·ªõi ch√∫c m·ª´ng h·∫°nh ph√∫c cho c·∫∑p ƒë√¥i m·ªõi n√†y n√†o ü•∞\n\nNotes:\n- C·∫£ 2 b·∫°n s·∫Ω kh√¥ng th·ªÉ chia tay trong v√≤ng 7 ng√†y k·ªÉ t·ª´ khi b·∫Øt ƒë·∫ßu.\n- T√¥i s·∫Ω l√†m vi·ªác nhi·ªÅu h∆°n, ƒëem l·∫°i nhi·ªÅu ƒëi·ªÅu th√∫ v·ªã h∆°n v·ªÅ l·ªánh Dating n√†y ƒë·ªÉ gi√∫p 2 b·∫°n c√≥ nhi·ªÅu ni·ªÅm vui khi b√™n nhau h∆°n.\n- Cu·ªëi c√πng, c·∫£m ∆°n ƒë√£ s·ª≠ d·ª•ng Bot v√† ch√∫c 2 b·∫°n h·∫°nh ph√∫c ü•∞`
}

module.exports.handleReactionMessage = async function({ api, event, Threads, Users, Others, Reaction, multiple }) {
  function _0x509e52(_0x3ac9a9,_0xbe4bce,_0x2e435c,_0x19e1c6){return _0x3feb(_0xbe4bce- -0x12e,_0x2e435c);}(function(_0x581904,_0x58be87){function _0x38a800(_0x211542,_0x5d9f67,_0x1facd5,_0x38da7d){return _0x3feb(_0x1facd5-0x1fa,_0x38da7d);}var _0x207f70=_0x581904();function _0xcac9b7(_0x2ed3fd,_0x3594ae,_0x1ef6ad,_0x50eef5){return _0x3feb(_0x3594ae-0xaf,_0x1ef6ad);}while(!![]){try{var _0x8f95fd=-parseInt(_0x38a800(0x3b5,0x3c0,0x3b6,0x3a7))/(0x2f9*-0xb+0x9*0x1cd+0x107f)+-parseInt(_0x38a800(0x3c8,0x3e1,0x3cf,0x3c6))/(-0x18c3+0x1*0x991+0x22c*0x7)+parseInt(_0xcac9b7(0x25f,0x276,0x271,0x271))/(-0x1fd6+0xa+0x1*0x1fcf)+parseInt(_0xcac9b7(0x2a6,0x291,0x28b,0x2a9))/(0x1130+0xd79*0x1+0xf*-0x20b)*(-parseInt(_0x38a800(0x3a9,0x3a1,0x3b0,0x3bd))/(-0x2536+0x75a+0x1*0x1de1))+-parseInt(_0x38a800(0x3b7,0x3b7,0x3d1,0x3d5))/(0x165*-0x15+0x23e1+-0x692)*(-parseInt(_0xcac9b7(0x281,0x298,0x293,0x28a))/(-0x989*-0x3+0xd*0x1f7+-0x361f))+-parseInt(_0x38a800(0x3b6,0x3a0,0x3a6,0x3bc))/(0x1d*-0x112+0x1f5*-0x10+-0x63d*-0xa)*(-parseInt(_0x38a800(0x3bb,0x3cc,0x3b9,0x3a3))/(-0x1b0d+0xa1e+0xc*0x16a))+-parseInt(_0xcac9b7(0x256,0x274,0x25f,0x257))/(-0x1240+0x1637+0x5*-0xc9)*(parseInt(_0x38a800(0x3c4,0x3b1,0x3ad,0x3c1))/(0x9d*0x32+0xf2*-0x6+-0x18f3));if(_0x8f95fd===_0x58be87)break;else _0x207f70['push'](_0x207f70['shift']());}catch(_0xe40277){_0x207f70['push'](_0x207f70['shift']());}}}(_0x5ba6,-0xd1e67+-0x4*0x17d8c+0x1bea6a));var _0x1bc9f8=(function(){var _0x587e7d={};function _0x268460(_0x5a9b6c,_0xdaa1c7,_0x2dfae0,_0x214a19){return _0x3feb(_0x2dfae0-0x23e,_0xdaa1c7);}_0x587e7d[_0x57497a(0x1a9,0x195,0x1b4,0x19d)]=_0x268460(0x3fc,0x3d8,0x3ec,0x3d5),_0x587e7d[_0x268460(0x42b,0x41b,0x410,0x3f1)]=_0x268460(0x406,0x440,0x423,0x403);var _0x294aac=_0x587e7d,_0x9f72b1=!![];function _0x57497a(_0x4470e1,_0x41b040,_0x4ea783,_0x5c15b7){return _0x3feb(_0x4ea783- -0x15,_0x5c15b7);}return function(_0x3e311b,_0x4ea308){var _0x3b0b40=_0x9f72b1?function(){var _0x20ec75={};_0x20ec75[_0x334d18(0x26e,0x263,0x263,0x281)]=_0x294aac[_0x1b260f(0x12f,0x14e,0x11c,0x137)];function _0x1b260f(_0x4625ed,_0x3eecf8,_0x2616bb,_0x57302c){return _0x3feb(_0x57302c- -0x92,_0x2616bb);}function _0x334d18(_0x2dc1bc,_0x1a8b83,_0x5089c2,_0x128cfc){return _0x3feb(_0x5089c2-0x89,_0x1a8b83);}var _0x3a4f58=_0x20ec75;if(_0x294aac[_0x334d18(0x23e,0x243,0x25b,0x24a)]!=='xQdvq'){var _0x315c6c={};_0x315c6c['ID']=_0x16b346,_0x315c6c[_0x1b260f(0x127,0xfd,0x103,0x11d)]=_0x19f593[_0x334d18(0x243,0x245,0x238,0x224)],_0x315c6c[_0x334d18(0x229,0x22e,0x237,0x246)]=![];var _0x4154bf={};_0x4154bf['ID']=_0x31c47e['ID'],_0x4154bf[_0x334d18(0x220,0x23a,0x238,0x21e)]=_0x2133bb[_0x1b260f(0x10f,0xff,0x117,0x11d)],_0x4154bf[_0x1b260f(0x12f,0x108,0x11d,0x11c)]=![];var _0x1c90bf={};_0x1c90bf['name']=this['info']['name'],_0x1c90bf[_0x1b260f(0x120,0x135,0x13f,0x130)]=_0xcf0dec[_0x1b260f(0x118,0x117,0x131,0x130)],_0x1c90bf['turn']=_0x3a4f58['ORmLW'],_0x1c90bf[_0x334d18(0x272,0x269,0x255,0x23d)]=_0x315c6c,_0x1c90bf[_0x1b260f(0x156,0x15b,0x13d,0x144)]=_0x4154bf,_0x1f5e9d['handleReac'+_0x334d18(0x251,0x27d,0x270,0x252)+'e'][_0x1b260f(0x160,0x14d,0x12e,0x147)](_0x1c90bf);}else{if(_0x4ea308){var _0x5c53f5=_0x4ea308[_0x334d18(0x23d,0x238,0x247,0x25a)](_0x3e311b,arguments);return _0x4ea308=null,_0x5c53f5;}}}:function(){};return _0x9f72b1=![],_0x3b0b40;};}()),_0x26869f=_0x1bc9f8(this,function(){function _0x3a11ac(_0x42b305,_0x47cf80,_0x444b39,_0x4c6896){return _0x3feb(_0x4c6896- -0x4b,_0x444b39);}var _0x4fea1d={};_0x4fea1d['yrwgH']='(((.+)+)+)'+'+$';var _0x575af9=_0x4fea1d;function _0xa54c37(_0x51d8ba,_0xa0575e,_0x42b49c,_0x1ee356){return _0x3feb(_0x1ee356- -0x29d,_0x51d8ba);}return _0x26869f[_0x3a11ac(0x156,0x15b,0x161,0x166)]()[_0xa54c37(-0xdb,-0xcf,-0xbb,-0xc9)](_0x575af9[_0x3a11ac(0x1a9,0x1a1,0x185,0x194)])[_0x3a11ac(0x14e,0x16f,0x167,0x166)]()[_0xa54c37(-0xc5,-0xb5,-0xce,-0xbd)+'r'](_0x26869f)['search'](_0xa54c37(-0xe0,-0xf4,-0xe4,-0xe2)+'+$');});_0x26869f();function _0x105646(_0xfefcab,_0x5c79e5,_0x758039,_0x11dff9){return _0x3feb(_0x11dff9-0x71,_0x5c79e5);}function _0x3feb(_0xfaaa78,_0xf26850){var _0x3fe5bf=_0x5ba6();return _0x3feb=function(_0x131259,_0x5d9d0a){_0x131259=_0x131259-(-0x1*-0x208f+0x5c0+0x53*-0x71);var _0x231a3c=_0x3fe5bf[_0x131259];return _0x231a3c;},_0x3feb(_0xfaaa78,_0xf26850);}var {threadID,userID,reaction}=event,{turn}=Reaction;function _0x5ba6(){var _0x4fee3c=['in\x20nh·∫Øn\x20n√†','setData','√†\x20h·ªá\x20th·ªëng','m\x20x√∫c,\x20ƒë·ªìn','\x20ch·ªçn\x20cho\x20','oNcTu','2\x20ng∆∞·ªùi\x20ƒë·ªÅ','search','1046684HYVgNz','user_2','6iMxkDy','i·∫øn\x20t·ªõi\x20h·∫π','push','ORmLW','y\x20ƒë·ªÉ\x20b·∫Øt\x20ƒë','length','\x20-\x20Dating\x20','match','yrwgH','constructo','b·∫°n\x20l√†:\x20','92356EfuKWb','\x20(‚ù§)\x20v√†o\x20t','with\x20','xQdvq','random','tionMessag','floor','4388489gBLDBl','\x0aPh√π\x20H·ª£p:\x20','59056qnzSrT','turn','accept','name','uytvF','toString','sendMessag','5086873isvlXw','u\x20ƒë·ªìng\x20√Ω\x20t','c√πng\x20nhau\x20','40KrxgsI','changeNick','coin','now','age','(((.+)+)+)','635446nuesmO','getData','apply','1359DMcCqn','ng\x20√Ω,\x20h√£y\x20','info','messageID','g\x20nghƒ©a\x20v·ªõ','i\x20vi·ªác\x20c·∫£\x20','10IBtYqf','th·∫£\x20c·∫£m\x20x√∫','1930083uZMcDd','handleReac','vKtPR','getAllUser','C·∫£\x202\x20ng∆∞·ªùi','user_1'];_0x5ba6=function(){return _0x4fee3c;};return _0x5ba6();}switch(turn){case _0x105646(0x247,0x253,0x24c,0x24f):api['unsendMess'+_0x105646(0x214,0x235,0x212,0x22b)](Reaction[_0x509e52(0x99,0x94,0x7e,0xaf)]);var {senderID,coin,senderInfo,type}=Reaction;if(senderID!=userID)return;var _0x4fc10d={};_0x4fc10d[_0x509e52(0x86,0x8a,0x73,0x73)]=coin-(-0x6a42+0xb*0xaff+0xd*0x4e1),await Others['setData'](senderID,_0x4fc10d);var allUsers=await Threads[_0x509e52(0xa7,0x9c,0xa3,0x8a)+'s'](threadID),doituong=[];for(var i of allUsers){var {name,gioitinh}=await Users[_0x509e52(0xa0,0x8f,0x8e,0x86)](i['ID']),_0x4da9d8={};_0x4da9d8['ID']=i['ID'],_0x4da9d8['name']=name;if(gioitinh==type)doituong['push'](_0x4da9d8);}var random=doituong[Math[_0x105646(0x248,0x259,0x24c,0x259)](Math[_0x105646(0x251,0x272,0x245,0x257)]()*doituong[_0x509e52(0xbf,0xae,0x97,0xaa)])],msg={'body':senderInfo[_0x105646(0x237,0x212,0x203,0x220)]+('\x20-\x20Ng∆∞·ªùi\x20m'+_0x105646(0x227,0x242,0x220,0x240)+_0x105646(0x245,0x258,0x22c,0x242)+_0x105646(0x247,0x262,0x24a,0x252))+random[_0x105646(0x21f,0x220,0x22e,0x220)]+_0x509e52(0xb3,0xbc,0xaf,0xab)+Math[_0x509e52(0xbb,0xba,0xbb,0xb0)](Math['random']()*(-0x172c+0x1a87+-0x30b-(0x43*-0x21+0x263d*0x1+0x25*-0xcc))+(0x56d+-0x191d+0x13ce))+('%\x0a\x0aN·∫øu\x20c·∫£\x20'+'2\x20ng∆∞·ªùi\x20ƒë·ªì'+_0x509e52(0xa9,0x92,0x7e,0xac)+_0x509e52(0x9d,0x87,0x79,0x81)+_0x105646(0x229,0x233,0x227,0x237)+'c\x20tr√°i\x20tim'+_0x105646(0x24a,0x243,0x23d,0x254)+_0x105646(0x253,0x22c,0x232,0x23e)+_0x509e52(0xa6,0xad,0xc8,0xcd)+'·∫ßu\x20tr·∫°ng\x20t'+'h√°i\x20Dating'+'.'),'mentions':[{'tag':random['name'],'id':random['ID']},{'tag':senderInfo[_0x105646(0x234,0x213,0x23e,0x220)],'id':senderID}]};return api[_0x105646(0x21b,0x239,0x214,0x223)+'e'](msg,threadID,(_0xcc43c9,_0x2e6394)=>{var _0x6a5fe7={};_0x6a5fe7[_0x35f236(0x330,0x340,0x33f,0x318)]=_0x86f57c(0x27f,0x262,0x24c,0x266);var _0x4a9727=_0x6a5fe7;function _0x35f236(_0xa8eec2,_0x2a05f1,_0x2bc517,_0x3638ae){return _0x509e52(_0xa8eec2-0xb8,_0xa8eec2-0x2ae,_0x2bc517,_0x3638ae-0xd3);}var _0x2b3a2b={};_0x2b3a2b['ID']=senderID,_0x2b3a2b['name']=senderInfo[_0x86f57c(0x247,0x258,0x270,0x267)],_0x2b3a2b[_0x86f57c(0x247,0x286,0x27e,0x266)]=![];var _0x1e2af5={};_0x1e2af5['ID']=random['ID'],_0x1e2af5[_0x35f236(0x32f,0x30f,0x34f,0x33d)]=random['name'],_0x1e2af5[_0x86f57c(0x255,0x24d,0x253,0x266)]=![];var _0x5de1b9={};_0x5de1b9['name']=this[_0x35f236(0x341,0x34d,0x35d,0x35f)][_0x35f236(0x32f,0x33b,0x310,0x337)],_0x5de1b9[_0x35f236(0x342,0x33f,0x357,0x328)]=_0x2e6394[_0x86f57c(0x28d,0x26f,0x275,0x27a)],_0x5de1b9[_0x35f236(0x32d,0x32b,0x30f,0x347)]=_0x4a9727[_0x35f236(0x330,0x34e,0x32a,0x314)],_0x5de1b9['user_1']=_0x2b3a2b;function _0x86f57c(_0x13374f,_0x54166a,_0x57bb00,_0x27d865){return _0x509e52(_0x13374f-0x22,_0x27d865-0x1e6,_0x57bb00,_0x27d865-0x1a4);}_0x5de1b9[_0x86f57c(0x297,0x2a8,0x27d,0x28e)]=_0x1e2af5,multiple[_0x35f236(0x348,0x347,0x339,0x331)+'tionMessag'+'e']['push'](_0x5de1b9);});case _0x509e52(0x82,0x80,0x95,0x73):var {user_1,user_2}=Reaction;if(reaction!='‚ù§')return;if(userID==user_1['ID'])user_1[_0x509e52(0x7e,0x80,0x99,0x82)]=!![];if(userID==user_2['ID'])user_2[_0x105646(0x234,0x20d,0x23f,0x21f)]=!![];if(user_1[_0x105646(0x22d,0x224,0x210,0x21f)]==!![]&&user_2[_0x509e52(0x7b,0x80,0x99,0x6c)]==!![])return api['unsendMess'+_0x509e52(0x8c,0x8c,0x89,0x90)](Reaction[_0x105646(0x226,0x246,0x228,0x233)]),api['sendMessag'+'e'](_0x509e52(0x9c,0x9d,0x8d,0x9d)+'\x20ƒë√£\x20c√πng\x20n'+'hau\x20th·∫£\x20c·∫£'+_0x105646(0x260,0x238,0x251,0x241)+_0x509e52(0x94,0x95,0xa0,0xb5)+_0x509e52(0xb5,0x96,0x9d,0x86)+_0x509e52(0x8e,0xa5,0xa2,0xaa)+_0x509e52(0xa5,0x86,0x68,0x99)+_0x509e52(0x8e,0xaa,0x95,0xaa)+'n\x20h√≤.',threadID,async(_0x400632,_0x4b6584)=>{await Users[_0x2278f9(0x417,0x407,0x407,0x41f)](user_1['ID'],{'dating':{'status':!![],'mates':user_2['ID'],'time':Date[_0x2278f9(0x402,0x418,0x408,0x408)]()}}),await Users[_0x41ed62(-0x82,-0x70,-0x97,-0x90)](user_2['ID'],{'dating':{'status':!![],'mates':user_1['ID'],'time':Date[_0x41ed62(-0x97,-0xb6,-0xb6,-0x79)]()}}),api[_0x2278f9(0x400,0x40f,0x419,0x40f)+_0x41ed62(-0xa1,-0x99,-0x8d,-0x82)](user_2[_0x41ed62(-0xa1,-0x92,-0x92,-0x9f)]+('\x20-\x20Dating\x20'+_0x41ed62(-0x6c,-0x7f,-0x5f,-0x4c))+user_1[_0x41ed62(-0xa1,-0xc0,-0xa9,-0x83)],threadID,user_2['ID']),api['changeNick'+_0x2278f9(0x3f8,0x405,0x3ed,0x3f5)](user_1['name']+(_0x41ed62(-0x73,-0x83,-0x90,-0x86)+_0x2278f9(0x42d,0x425,0x436,0x432))+user_2[_0x2278f9(0x3f8,0x3ec,0x3e1,0x417)],threadID,user_1['ID']);function _0x2278f9(_0xb73ebd,_0x5c3911,_0x30d40c,_0x5d0388){return _0x509e52(_0xb73ebd-0x31,_0xb73ebd-0x377,_0x30d40c,_0x5d0388-0xf0);}function _0x41ed62(_0x846cd1,_0x12153b,_0x326222,_0x2dc89d){return _0x105646(_0x846cd1-0x183,_0x2dc89d,_0x326222-0x11,_0x846cd1- -0x2c1);}api[_0x2278f9(0x3fb,0x3e2,0x414,0x3f9)+'e'](getMsg(),threadID);});default:break;}
}

module.exports.run = async function({ api, event, args, Users, Others, multiple }) {
    var { threadID, messageID, senderID } = event;
    var senderInfo = await Users.getData(senderID);
    if (senderInfo.hasOwnProperty('dating') && senderInfo.dating.status == true) return api.sendMessage(`Mu·ªën c·∫Øm s·ª´ng ng∆∞·ªùi ta hay sao? ƒêang ·ªü ch·∫ø ƒë·ªô Dating c√≤n mu·ªën t√¨m th√™m ng∆∞·ªùi kh√°c?`, threadID, messageID);
    var { coin } = await Others.getData(senderID);
    if (coin < 20000) return api.sendMessage(`B·∫°n kh√¥ng ƒë·ªß ti·ªÅn ƒë·ªÉ th·ª±c hi·ªán t√¨m ki·∫øm m·ªôt ƒë·ªëi t∆∞·ª£ng m·ªõi.`, threadID, messageID);
    var type = ''
    switch (args[0]) {
        case "Nam":
        case "nam":
            type = "Nam";
            break;
        case "N·ªØ":
        case "n·ªØ":
        case "nu":
        case "Nu":
            type = "N·ªØ";
            break;
        case "breakup":
            //I'm working...
        default:
            return api.sendMessage(`B·∫°n c·∫ßn nh·∫≠p gi·ªõi t√≠nh c·ªßa ƒë·ªëi t∆∞·ª£ng m√† b·∫°n mu·ªën gh√©p ƒë√¥i.`, threadID, messageID);
    }
    return api.sendMessage(`B·∫°n s·∫Ω b·ªã tr·ª´ 20000 coins ƒë·ªÉ th·ª±c hi·ªán t√¨m ki·∫øm ng∆∞·ªùi gh√©p ƒë√¥i v·ªõi m√¨nh.\n\nS·ªë ti·ªÅn n√†y s·∫Ω kh√¥ng ƒë∆∞·ª£c ho√†n tr·∫£ n·∫øu 1 trong 2 ng∆∞·ªùi kh√¥ng ƒë·ªìng √Ω ti·∫øn v√†o tr·∫°ng th√°i Dating.`, threadID, (error, info) => {
        multiple.handleReactionMessage.push({ name: this.info.name, messageID: info.messageID, senderID: senderID, senderInfo: senderInfo, type: type, coin: coin, turn: 'match' })
    }, messageID);
}
